(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-commons"],{"0515":function(e,t,n){"use strict";n("fbf1")},"0bf4":function(e,t,n){"use strict";n("8518")},"333d":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[n("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},i=[],o=(n("a9e3"),n("09f4")),r={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&Object(o["a"])(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&Object(o["a"])(0,800)}}},l=r,c=(n("0bf4"),n("2877")),s=Object(c["a"])(l,a,i,!1,null,"545b0162",null);t["a"]=s.exports},"45f9":function(e,t,n){},5608:function(e,t,n){},"621c":function(e,t,n){"use strict";n("7976")},"6bfc":function(e,t,n){"use strict";n("c890")},"744d":function(e,t,n){},"77ad":function(e,t,n){"use strict";n("45f9")},7976:function(e,t,n){},8020:function(e,t,n){"use strict";n("744d")},8518:function(e,t,n){},"86a6":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"form",class:"list"==e.mode?"list-form":"",staticStyle:{"margin-top":"20px"},attrs:{model:e.formData,rules:e.rules,"label-width":"120px"}},[e._l(e.fieldList,(function(t,a){return n("div",{key:a},[n("el-col",{attrs:{span:t.col?t.col:24}},[e.isShow(t)?n("el-form-item",{attrs:{prop:t.key,rules:t.rules,label:t.label},scopedSlots:e._u([{key:"label",fn:function(){return[n("span",[e._v(" "+e._s(t.label)+" ")]),t.hint?n("span",[n("el-popover",{attrs:{placement:"top-start",title:"提示",width:"300",trigger:"hover",content:t.hint}},[n("i",{staticClass:"el-icon-question",attrs:{slot:"reference"},slot:"reference"})])],1):e._e()]},proxy:!0}],null,!0)},[n(e.compChildName(t),e._g(e._b({tag:"component",attrs:{item:t,value:e.formData[t.key]},on:{input:function(n){return e.onInput(t.key,n)},change:function(n){return e.onChange(t.key,n)},changeFile:function(n,a){return e.onChangeFile(t.key,n,a)}}},"component",Object.assign({},t.props),!1),Object.assign({},t.events)))],1):e._e()],1)],1)})),n("div",{class:"list"==e.mode?"list-btn-group":"page-btn-group",staticStyle:{"margin-bottom":"20px",display:"flex","justify-content":"center"}},e._l(e.operatorList,(function(t,a){return n("div",{key:a},[e.isShow(t)?n("el-button",{staticClass:"btn",attrs:{type:t.type,size:"small",icon:t.icon},on:{click:t.func}},[e._v(" "+e._s(t.label)+" ")]):e._e()],1)})),0)],2)},i=[],o=(n("d3b7"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-input"},[n("el-input",e._b({attrs:{value:e.value,placeholder:e.placeholderComp,disabled:e.isDisabled(e.item)},on:{input:e.onInput}},"el-input",e.$attrs,!1))],1)}),r=[],l=(n("a9e3"),{name:"FormInput",components:{},props:{item:{type:Object,default:function(){return{}}},value:{type:[String,Number],default:""}},data:function(){return{}},computed:{placeholderComp:function(){return this.item.props.placeholder?this.item.props.placeholder:"请输入".concat(this.item.label)},isDisabled:function(){return function(e){return"boolean"===typeof e.disabled?e.disabled:"function"===typeof e.disabled&&Boolean(e.disabled())}}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{onInput:function(e){this.$emit("input",e)}}}),c=l,s=n("2877"),u=Object(s["a"])(c,o,r,!1,null,"5c3fb6ac",null),d=u.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-switch"},[n("el-switch",e._g(e._b({attrs:{value:e.value,disabled:e.isDisabled(e.item),"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:e.onChange}},"el-switch",e.$attrs,!1),e.$listeners))],1)},f=[],m={name:"FormInput",components:{},props:{item:{type:Object,default:function(){return{}}},value:{type:[String,Number,Boolean],default:!1}},data:function(){return{}},computed:{placeholderComp:function(){return this.item.props.placeholder?this.item.props.placeholder:"请输入".concat(this.item.label)},isDisabled:function(){return function(e){return"boolean"===typeof e.disabled?e.disabled:"function"===typeof e.disabled&&Boolean(e.disabled())}}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{onChange:function(e){this.$emit("change",e)}}},h=m,b=Object(s["a"])(h,p,f,!1,null,"375346ab",null),g=b.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-select"},[n("el-select",e._g(e._b({attrs:{value:e.value,placeholder:e.placeholderComp,disabled:e.isDisabled(e.item)},on:{change:e.handleEvent}},"el-select",e.$attrs,!1),e.$listeners),e._l(e.item.typeData(),(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)},v=[],_={name:"FormInput",components:{},props:{item:{type:Object,default:function(){return{}}},value:{type:[String,Number,Boolean],default:""}},data:function(){return{}},computed:{placeholderComp:function(){return this.item.props.placeholder?this.item.props.placeholder:"请选择".concat(this.item.label)},isDisabled:function(){return function(e){return"boolean"===typeof e.disabled?e.disabled:"function"===typeof e.disabled&&Boolean(e.disabled())}}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{handleEvent:function(e){this.$emit("change",e)}}},k=_,C=Object(s["a"])(k,y,v,!1,null,"b0f7306e",null),S=C.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-radio-group"},[n("el-radio-group",e._g(e._b({attrs:{value:e.value,placeholder:e.placeholderComp},on:{change:e.handleEvent}},"el-radio-group",e.$attrs,!1),e.$listeners),e._l(e.item.typeData(),(function(t){return n("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)},F=[],$={name:"FormSelect",components:{},props:{item:{type:Object,default:function(){return{}}},value:{type:[String,Number],default:""}},data:function(){return{}},computed:{placeholderComp:function(){return this.item.props.placeholder?this.item.props.placeholder:"请选择".concat(this.item.label)}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{handleEvent:function(e){this.$emit("change",e)}}},w=$,x=Object(s["a"])(w,D,F,!1,null,"900bc9de",null),O=x.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-checkbox-group"},[n("el-checkbox-group",e._g(e._b({attrs:{value:e.value,placeholder:e.placeholderComp},on:{change:e.handleEvent}},"el-checkbox-group",e.$attrs,!1),e.$listeners),e._l(e.item.typeData(),(function(t){return n("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)},j=[],P={name:"FormInput",components:{},props:{item:{type:Object,default:function(){return{}}},value:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{placeholderComp:function(){return this.item.props.placeholder?this.item.props.placeholder:"请选择".concat(this.item.label)}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{handleEvent:function(e){console.log(e),this.$emit("change",e)}}},L=P,A=Object(s["a"])(L,I,j,!1,null,"17555a58",null),E=A.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-upload-picture"},[n("el-upload",e._b({attrs:{"list-type":"picture-card",action:e.action,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"file-list":e.value,limit:e.item.props.limit}},"el-upload",e.$attrs,!1),[n("i",{staticClass:"el-icon-plus"})]),n("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},U=[],q={components:{},props:{item:{type:Object,default:function(){return{}}},value:{type:Array,default:function(){return[]}}},data:function(){return{dialogImageUrl:"",dialogVisible:!1}},computed:{action:function(){return"https://sailing.kiccer.com:7802/api/upload"}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{handleAvatarSuccess:function(e,t,n){this.$emit("change",n)},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传图片大小不能超过 2MB!"),t},handleRemove:function(e,t){this.$emit("change",t)},handleExceed:function(){this.$message.error("图片最多上传".concat(this.item.props.limit,"张"))},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0}}},R=q,N=(n("bbaf"),Object(s["a"])(R,T,U,!1,null,"29141a9b",null)),z=N.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-upload-single-picture"},[n("el-upload",e._b({staticClass:"avatar-uploader",attrs:{action:e.action,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},"el-upload",e.$attrs,!1),[e.value?n("img",{staticClass:"avatar",attrs:{src:e.value}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)},V=[],M={name:"FormSinglePicture",components:{},props:{item:{type:Object,default:function(){return{}}},value:{type:String,default:""}},data:function(){return{}},computed:{action:function(){return"https://sailing.kiccer.com:7802/api/upload"}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{handleAvatarSuccess:function(e,t,n){this.$parent.resetField(),this.$emit("change",e.data.url,t)},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传头像图片大小不能超过 2MB!"),t}}},G=M,K=(n("8020"),Object(s["a"])(G,B,V,!1,null,"5f1c30a4",null)),H=K.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-upload-picture"},[n("el-upload",e._b({attrs:{"list-type":"upload-demo",action:e.action,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"file-list":e.value,limit:e.item.props.limit}},"el-upload",e.$attrs,!1),[n("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1)},W=[],Q={components:{},props:{item:{type:Object,default:function(){return{}}},value:{type:Array,default:function(){return[]}}},data:function(){return{dialogImageUrl:""}},computed:{action:function(){return"https://sailing.kiccer.com:7802/api/api/v1/files/uploadFiles"}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{handleAvatarSuccess:function(e,t,n){this.$emit("change",n)},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传图片大小不能超过 2MB!"),t},handleRemove:function(e,t){this.$emit("change",t)},handleExceed:function(){this.$message.error("图片最多上传".concat(this.item.props.limit,"张"))},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url}}},X=Q,Y=(n("6bfc"),Object(s["a"])(X,J,W,!1,null,"6b1970fa",null)),Z=Y.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-input"},[n("quill-editor",e._b({ref:e.refName,attrs:{id:e.randomString(3),content:e.value,options:e.editorOption},on:{change:function(t){return e.onEditorChange(t)}}},"quill-editor",e.$attrs,!1)),n("el-upload",{key:e.randomString(3),staticClass:"avatar-uploader quill-img",staticStyle:{display:"none"},attrs:{action:e.action,"on-success":e.handleAvatarSuccess,"show-file-list":!1}},[n("i",{ref:"imgInput",staticClass:"el-icon-plus avatar-uploader-icon"})])],1)},te=[],ne=n("8d78"),ae=ne["a"],ie=Object(s["a"])(ae,ee,te,!1,null,"21db3647",null),oe=ie.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-date-time-picker"},[n("el-date-picker",e._g(e._b({attrs:{value:e.value,placeholder:e.placeholderComp},on:{change:e.handleEvent}},"el-date-picker",e.$attrs,!1),e.$listeners))],1)},le=[],ce={name:"FormDateTimePicker",components:{},props:{item:{type:Object,default:function(){return{}}},value:{type:[String,Date],default:""}},data:function(){return{}},computed:{placeholderComp:function(){return this.item.props.placeholder?this.item.props.placeholder:"请输入".concat(this.item.label)}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{handleEvent:function(e){this.$emit("change",e)}}},se=ce,ue=Object(s["a"])(se,re,le,!1,null,"35fda661",null),de=ue.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-description"},[n("el-descriptions",e._g(e._b({},"el-descriptions",e.$attrs,!1),e.$listeners),e._l(Object.keys(e.value),(function(t,a){return n("el-descriptions-item",{key:a,attrs:{label:e.computedKeyName(t)}},[e._v(" "+e._s(e.value[t])+" ")])})),1)],1)},fe=[],me={name:"FormDescriptionList",components:{},props:{item:{type:Object,default:function(){return{}}},value:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{placeholderComp:function(){return this.item.props.placeholder?this.item.props.placeholder:"请输入".concat(this.item.label)},isDisabled:function(){return function(e){return"boolean"===typeof e.disabled?e.disabled:"function"===typeof e.disabled&&e.disabled()}},computedKeyName:function(){return function(e){var t={id:"编号",name:"姓名",address:"地址",mobile:"手机号",region:"地区",fullName:"姓名",userIdCard:"身份证",travelTime:"禅旅日期"}[e];return t}}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{}},he=me,be=Object(s["a"])(he,pe,fe,!1,null,"cb946048",null),ge=be.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-description"},e._l(e.value,(function(t,a){return n("div",{key:a},[n("span",[e._v("第"+e._s(a+1)+"次下单")]),e._l(t.product_list,(function(t,a){return n("div",{key:a},[n("el-descriptions",e._g(e._b({},"el-descriptions",e.$attrs,!1),e.$listeners),e._l(Object.keys(t),(function(a,i){return n("el-descriptions-item",{key:i,attrs:{label:e.computedKeyName(a)}},[e._v(" "+e._s(t[a])+" ")])})),1)],1)}))],2)})),0)},ve=[],_e={name:"FormDescriptionLists",components:{},props:{item:{type:Object,default:function(){return{}}},value:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{placeholderComp:function(){return this.item.props.placeholder?this.item.props.placeholder:"请输入".concat(this.item.label)},isDisabled:function(){return function(e){return"boolean"===typeof e.disabled?e.disabled:"function"===typeof e.disabled&&e.disabled()}},computedKeyName:function(){return function(e){var t={id:"编号",name:"名称",address:"地址",mobile:"手机号",region:"地区",fullName:"姓名",userIdCard:"身份证",travelTime:"禅旅日期",count:"数量",user_select_count:"用户选择数量"}[e];return t}}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{}},ke=_e,Ce=(n("a14e"),Object(s["a"])(ke,ye,ve,!1,null,"3b92789f",null)),Se=Ce.exports,De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-button",{attrs:{type:"primary"},on:{click:e.handleBtnClick}},[e._v(" 获取经纬度 ")]),n("div",{attrs:{id:"container"}})],1)},Fe=[],$e=(n("d81d"),n("862d")),we=n.n($e),xe={name:"FormAliMap",components:{},props:{item:{type:Object,default:function(){return{}}},value:{type:Array,default:function(){return["",""]}}},data:function(){return{map:null}},computed:{},watch:{},beforeCreate:function(){var e=this;we.a.load({key:"b609198c045e3ab731d50d39b12bcaa",plugins:[],AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}}).then((function(t){console.log(t),e.$nextTick((function(){return e.initMap(t)}))})).catch((function(e){console.error(e)}))},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{initMap:function(e){this.map=new e.Map("container")},handleBtnClick:function(){this.dialogVisible=!0}}},Oe=xe,Ie=(n("0515"),Object(s["a"])(Oe,De,Fe,!1,null,"7487b384",null)),je=Ie.exports,Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-select"},[n("el-select",e._g(e._b({attrs:{value:e.value,placeholder:e.placeholderComp},on:{change:e.handleEvent}},"el-select",e.$attrs,!1),e.$listeners),e._l(e.item.typeData(),(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)},Le=[],Ae={name:"FormSelectTempleC",components:{},props:{item:{type:Object,default:function(){return{}}},value:{type:[String,Number],default:""}},data:function(){return{}},computed:{placeholderComp:function(){return this.item.props.placeholder?this.item.props.placeholder:"请选择".concat(this.item.label)}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{handleEvent:function(e){this.$emit("change",e)}}},Ee=Ae,Te=Object(s["a"])(Ee,Pe,Le,!1,null,"4e200669",null),Ue=Te.exports,qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-input"},[n("el-button",{on:{click:e.handleAddBtnClick}},[e._v("添加规格")]),e.value.length>0?n("t-table-list",{staticStyle:{"margin-top":"20px"},attrs:{"table-data":e.value,"table-columns":e.tableColumns,"table-op-columns":e.tableOpColumns},scopedSlots:e._u([{key:"icon",fn:function(e){return[n("el-image",{staticStyle:{width:"100px",height:"60px"},attrs:{fit:"fit",src:e.scope.row.icon}})]}}],null,!1,3287719372)}):e._e(),n("el-dialog",{attrs:{title:"add"===e.type?"新增":"编辑",visible:e.itemDialogShow},on:{"update:visible":function(t){e.itemDialogShow=t}}},[n("t-simple-form",{ref:"form",attrs:{"form-data":e.formData,"field-list":e.fieldList,"operator-list":e.operatorList,rules:e.rules}})],1)],1)},Re=[],Ne=n("5530"),ze=(n("a434"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"form",class:"list"==e.mode?"list-form":"",staticStyle:{"margin-top":"20px"},attrs:{model:e.formData,rules:e.rules,"label-width":"120px"}},[e._l(e.fieldList,(function(t,a){return n("div",{key:a},[e.isShow(t)?n("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{prop:t.key,rules:t.rules,label:t.label}},[n(e.compChildName(t),e._b({tag:"component",attrs:{item:t,value:e.formData[t.key]},on:{input:function(n){return e.onInput(t.key,n)},change:function(n){return e.onChange(t.key,n)}}},"component",Object.assign({},t.props),!1))],1):e._e()],1)})),n("div",{class:"list"==e.mode?"list-btn-group":"page-btn-group",staticStyle:{"margin-bottom":"20px"}},e._l(e.operatorList,(function(t,a){return n("el-button",{key:a,staticClass:"btn",attrs:{type:t.type,icon:t.icon},on:{click:t.func}},[e._v(" "+e._s(t.label)+" ")])})),1)],2)}),Be=[],Ve={name:"TSimpleForm",components:{FormInput:d,FormSelect:S,FormRadioGroup:O,FormCheckboxGroup:E,FormUploadPicture:z,FormUploadSinglePicture:H,FormRichText:oe,FormDateTimePicker:de,FormDescriptionList:ge,FormSelectTempleC:Ue,FormSkuC:Xe},props:{formData:{type:Object,default:function(){}},fieldList:{type:Array,default:function(){return[]}},operatorList:{type:Array,default:function(){return[]}},rules:{type:Object,default:function(){}},mode:{type:String,default:"page"}},data:function(){return{}},computed:{compChildName:function(){return function(e){var t={input:"FormInput",select:"FormSelect",radioGroup:"FormRadioGroup",checkboxGroup:"FormCheckboxGroup",uploadPicture:"FormUploadPicture",uploadSinglePicture:"FormUploadSinglePicture",dateTimePicker:"FormDateTimePicker",richText:"FormRichText",descriptionList:"FormDescriptionList",selectTempleC:"FormSelectTempleC",skuC:"FormSkuC"}[e.type];return t}},isShow:function(){return function(e){return"boolean"===typeof e.display?e.display:"function"!==typeof e.display||e.display()}}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{onChange:function(e,t){console.log("动了"),this.$set(this.formData,e,t),this.$forceUpdate()},onInput:function(e,t){this.$set(this.formData,e,t),this.$forceUpdate()},validate:function(){var e=this;return console.log("触发校验"),new Promise((function(t,n){e.$refs.form.validate((function(a){a?t({valid:a,formData:e.formData}):n({valid:a,formData:null})}))}))}}},Me=Ve,Ge=(n("77ad"),Object(s["a"])(Me,ze,Be,!1,null,"5b15f82e",null)),Ke=Ge.exports,He=n("b551"),Je={name:"FormSkuCC",components:{TSimpleForm:Ke,TTableList:He["a"]},props:{item:{type:Object,default:function(){return{}}},value:{type:Array,default:function(){return[]}}},data:function(){var e=this;return{type:"add",itemDialogShow:!1,tableData:[],tableColumns:[{dataIndex:"attribute",label:"属性"},{dataIndex:"icon",label:"图标",slotName:"icon"},{dataIndex:"originalPrice",label:"市场价"},{dataIndex:"currentPrice",label:"价格"},{dataIndex:"stock",label:"库存"}],tableOpColumns:[{label:"操作列",dataIndex:"a1",props:{width:"200",fixed:"right"},btnGroup:[{label:"编辑",type:"primary",icon:"el-icon-edit",onClick:function(t){t.$index;var n=t.row;e.type="edit",e.formData=n,e.itemDialogShow=!0}},{type:"danger",icon:"el-icon-delete",label:"删除",onClick:function(t){var n=t.$index,a=(t.row,e.getValue());a.splice(n,1),e.$emit("change",a)}}]}],formData:{attribute:"",currentPrice:"",icon:"",originalPrice:"",stock:""},fieldList:[{type:"input",label:"属性",props:{clearable:!0},key:"attribute"},{type:"uploadSinglePicture",label:"图片",props:{},key:"icon"},{type:"input",label:"价格",props:{clearable:!0},key:"currentPrice"},{type:"input",label:"市场价",props:{clearable:!0},key:"originalPrice"},{type:"input",label:"库存",props:{clearable:!0},key:"stock"}],operatorList:[{type:"primary",label:"提 交",func:this.submitForm}],rules:{attribute:[{required:!0,message:"请输入规格属性",trigger:"change"}],icon:[{required:!0,message:" ",trigger:"change"}],currentPrice:[{required:!0,message:"请输入价格",trigger:"change"}],originalPrice:[{required:!0,message:"请输入市场价",trigger:"change"}],stock:[{required:!0,message:"请输入库存",trigger:"change"}]}}},computed:{placeholderComp:function(){return this.item.props.placeholder?this.item.props.placeholder:"请输入".concat(this.item.label)},isDisabled:function(){return function(e){return"boolean"===typeof e.disabled?e.disabled:"function"===typeof e.disabled&&Boolean(e.disabled())}},formComp:function(){return this.$refs["form"].$refs["form"]}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{getValue:function(){return this.value},handleAddBtnClick:function(){this.type="add",this.formData=this.$options.data.call(this).formData,this.itemDialogShow=!0},submitForm:function(){var e=this;this.formComp.validate((function(t){if(t){var n=e.getValue();"add"===e.type&&(n.push(Object(Ne["a"])({},e.formData)),e.resetFields()),e.$emit("change",n),e.itemDialogShow=!1}}))},deleteData:function(){},resetFields:function(){return this.formComp.resetFields()},clearValidate:function(){return this.formComp.clearValidate()}}},We=Je,Qe=Object(s["a"])(We,qe,Re,!1,null,"59eaa45d",null),Xe=Qe.exports,Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-input"},[n("el-button",{on:{click:e.handleAddBtnClick}},[e._v("添加规格")]),e.value.length>0?n("t-table-list",{staticStyle:{"margin-top":"20px"},attrs:{"table-opts":e.tableOpts,"table-data":e.value,"table-columns":e.tableColumns,"table-op-columns":e.tableOpColumns},scopedSlots:e._u([{key:"icon",fn:function(t){return[t.scope.row.icon?n("el-image",{staticStyle:{width:"100px",height:"60px"},attrs:{fit:"fit",src:t.scope.row.icon}}):e._e()]}}],null,!1,2679812902)},[e._v(" > ")]):e._e(),n("el-dialog",{attrs:{title:"一级规格",visible:e.firstItemDialogShow},on:{"update:visible":function(t){e.firstItemDialogShow=t}}},[n("t-simple-form",{ref:"form",attrs:{"form-data":e.firstFormData,"field-list":e.firstFieldList,"operator-list":e.firstOperatorList,rules:e.firstRules}})],1),n("el-dialog",{attrs:{title:"二级规格",visible:e.secondItemDialogShow},on:{"update:visible":function(t){e.secondItemDialogShow=t}}},[n("t-simple-form",{ref:"form2",attrs:{"form-data":e.secondFormData,"field-list":e.secondFieldList,"operator-list":e.secondOperatorList,rules:e.secondRules}})],1)],1)},Ze=[],et=(n("c740"),n("4de4"),{name:"FormSkuC",components:{TSimpleForm:Ke,TTableList:He["a"]},props:{item:{type:Object,default:function(){return{}}},value:{type:Array,default:function(){return[]}}},data:function(){var e=this;return{type:"add",firstItemDialogShow:!1,secondItemDialogShow:!1,tableOpts:{props:{"row-key":"skuId","tree-props":{children:"children",hasChildren:"hasChildren"}},events:{"expand-change":function(t){e.currentSkuObj=t}}},tableData:[],tableColumns:[{dataIndex:"attribute",label:"属性"},{dataIndex:"icon",label:"图标",slotName:"icon"},{dataIndex:"originalPrice",label:"市场价"},{dataIndex:"number",label:"数量"},{dataIndex:"currentPrice",label:"价格"},{dataIndex:"stock",label:"库存"}],tableOpColumns:[{label:"操作列",dataIndex:"a1",props:{width:"280",fixed:"right"},btnGroup:[{label:"新增子项",type:"primary",icon:"el-icon-plus",onClick:function(t){var n=t.$index,a=t.row;e.type="add",e.secondItemDialogShow=!0,e.currentSkuIndex=n,e.currentSkuObj=Object(Ne["a"])({},a)},display:function(e){return 1===e.row.level}},{label:"编辑",type:"primary",icon:"el-icon-edit",onClick:function(t){t.index;var n=t.row;e.type="edit",1===n.level?(e.currentSkuObj=Object(Ne["a"])({},n),e.firstFormData=Object(Ne["a"])({},n),e.firstItemDialogShow=!0):2===n.level&&(e.secondFormData=Object(Ne["a"])({},n),e.secondItemDialogShow=!0)}},{type:"danger",icon:"el-icon-delete",label:"删除",onClick:function(t){var n=t.$index,a=t.row,i=e.getValue();if(console.log(a),1===a.level)i.splice(n,1),e.$emit("change",i);else{var o=i.findIndex((function(e){return e["children"].filter((function(e){return e.skuId===a.skuId}))[0]}));console.log(i[o].children);var r=i[o].children.findIndex((function(e){return e.skuId===a.skuId}));console.log(r),i[o].children.splice(r,1),e.$emit("change",i)}}}]}],firstFormData:{skuId:"",level:1,attribute:"",currentPrice:"",icon:"",originalPrice:"",stock:"",children:[]},firstFieldList:[{type:"input",label:"属性",props:{clearable:!0},key:"attribute"},{type:"uploadSinglePicture",label:"图片",props:{},key:"icon"},{type:"input",label:"价格",props:{clearable:!0},key:"currentPrice"},{type:"input",label:"市场价",props:{clearable:!0},key:"originalPrice"},{type:"input",label:"库存",props:{clearable:!0},key:"stock"}],firstOperatorList:[{type:"primary",label:"提 交",func:this.submitForm}],firstRules:{},currentSkuIndex:"",currentSkuObj:{},secondFormData:{skuId:"",number:"",level:2,attribute:"",currentPrice:"",icon:"",originalPrice:"",stock:""},secondFieldList:[{type:"input",label:"属性",props:{clearable:!0},key:"attribute"},{type:"uploadSinglePicture",label:"图片",props:{},key:"icon"},{type:"input",label:"价格",props:{clearable:!0},key:"currentPrice"},{type:"input",label:"市场价",props:{clearable:!0},key:"originalPrice"},{type:"input",label:"数量",props:{clearable:!0},key:"number"},{type:"input",label:"库存",props:{clearable:!0},key:"stock"}],secondOperatorList:[{type:"primary",label:"提 交",func:this.submitForm2}],secondRules:{}}},computed:{placeholderComp:function(){return this.item.props.placeholder?this.item.props.placeholder:"请输入".concat(this.item.label)},isDisabled:function(){return function(e){return"boolean"===typeof e.disabled?e.disabled:"function"===typeof e.disabled&&Boolean(e.disabled())}},formComp:function(){return this.$refs["form"].$refs["form"]},formComp2:function(){return this.$refs["form2"].$refs["form"]}},watch:{secondItemDialogShow:function(e,t){var n=this;!1===e&&this.$nextTick((function(){n.resetFields2()}))}},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{getValue:function(){return this.value},handleAddBtnClick:function(){this.type="add",this.firstFormData=this.$options.data.call(this).firstFormData,this.firstItemDialogShow=!0},submitForm:function(){var e=this;this.formComp.validate((function(t){if(t){var n=e.getValue();if("add"===e.type)n.push(Object(Ne["a"])(Object(Ne["a"])({},e.firstFormData),{},{skuId:parseInt(8e5*Math.random())})),e.resetFields();else if("edit"===e.type){var a=n.findIndex((function(t){return t.skuId===e.currentSkuObj.skuId}));e.$set(n,a,e.firstFormData)}e.$emit("change",n),e.firstItemDialogShow=!1}}))},submitForm2:function(){var e=this;this.formComp2.validate((function(t){if(t){var n=e.getValue(),a=n.findIndex((function(t){return t.skuId===e.currentSkuObj.skuId}));if("add"===e.type)n[a].children.push(Object(Ne["a"])(Object(Ne["a"])({},e.secondFormData),{},{skuId:parseInt(8e5*Math.random())}));else{var i=n[a].children.findIndex((function(t){return t.skuId===e.secondFormData.skuId}));e.$set(n[a].children,i,Object(Ne["a"])({},e.secondFormData))}e.$emit("change",n),e.secondItemDialogShow=!1,e.resetFields2()}}))},deleteData:function(){},resetFields:function(){return this.formComp.resetFields()},clearValidate:function(){return this.formComp.clearValidate()},resetFields2:function(){return this.formComp2.resetFields()},clearValidate2:function(){return this.formComp2.clearValidate()}}}),tt=et,nt=Object(s["a"])(tt,Ye,Ze,!1,null,"074fdf9e",null),at=nt.exports,it=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-input"},[n("el-button",{on:{click:e.handleAddBtnClick}},[e._v("添加\b权益")]),e.value.length>0?n("t-table-list",{staticStyle:{"margin-top":"20px"},attrs:{"table-data":e.value,"table-columns":e.tableColumns,"table-op-columns":e.tableOpColumns},scopedSlots:e._u([{key:"icon",fn:function(e){return[n("el-image",{staticStyle:{width:"100px",height:"60px"},attrs:{fit:"fit",src:e.scope.row.icon}})]}}],null,!1,3287719372)}):e._e(),n("el-dialog",{attrs:{title:"add"===e.type?"新增":"编辑",visible:e.itemDialogShow},on:{"update:visible":function(t){e.itemDialogShow=t}}},[n("t-simple-form",{ref:"form",attrs:{"form-data":e.formData,"field-list":e.fieldList,"operator-list":e.operatorList,rules:e.rules}})],1)],1)},ot=[],rt={name:"FormSkuC",components:{TSimpleForm:Ke,TTableList:He["a"]},props:{item:{type:Object,default:function(){return{}}},value:{type:Array,default:function(){return[]}}},data:function(){var e=this;return{type:"add",itemDialogShow:!1,tableData:[],tableColumns:[{dataIndex:"rightProductId",label:"权益产品编号"},{dataIndex:"quantity",label:"数量"},{dataIndex:"type",label:"类型",render:function(e){var t={2:"禅修禅旅",3:"福碑刻名",4:"祈福普佛",5:"尊享权益",6:"实物商品",7:"惠明禅茶"}[e.type];return t}},{dataIndex:"timeLimit",label:"时间"}],tableOpColumns:[{label:"操作列",dataIndex:"a1",props:{width:"200",fixed:"right"},btnGroup:[{label:"编辑",type:"primary",icon:"el-icon-edit",onClick:function(t){t.index;var n=t.row;e.type="edit",e.formData=n,e.itemDialogShow=!0}},{type:"danger",icon:"el-icon-delete",label:"删除",onClick:function(t){var n=t.index,a=(t.row,e.getValue());a.splice(n,1),e.$emit("change",a)}}]}],formData:{productId:"",quantity:"",type:"",originalPrice:"",stock:""},fieldList:[{type:"input",label:"权益产品编号",props:{clearable:!0},key:"rightProductId"},{type:"input",label:"数量",props:{clearable:!0},key:"quantity"},{type:"select",label:"类型",typeData:function(){return[{value:2,label:"禅修禅旅"},{value:3,label:"福碑刻名"},{value:4,label:"祈福普佛"},{value:5,label:"尊享权益"},{value:6,label:"实物商品"},{value:7,label:"惠明禅茶"}]},props:{clearable:!0},key:"type"},{type:"dateTimePicker",label:"时间",props:{type:"year","value-format":"yyyy",clearable:!0},key:"timeLimit"}],operatorList:[{type:"primary",label:"提 交",func:this.submitForm}],rules:{rightProductId:[{required:!0,message:"请输入编号",trigger:"change"}],quantity:[{required:!0,message:"请输入数量",trigger:"change"}],timeLimit:[{required:!0,message:"请选择时间",trigger:"change"}],type:[{required:!0,message:"请输入类型",trigger:"change"}]}}},computed:{placeholderComp:function(){return this.item.props.placeholder?this.item.props.placeholder:"请输入".concat(this.item.label)},isDisabled:function(){return function(e){return"boolean"===typeof e.disabled?e.disabled:"function"===typeof e.disabled&&Boolean(e.disabled())}},formComp:function(){return this.$refs["form"].$refs["form"]}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{getValue:function(){return this.value},handleAddBtnClick:function(){this.type="add",this.formData=this.$options.data.call(this).formData,this.itemDialogShow=!0},submitForm:function(){var e=this;this.formComp.validate((function(t){if(t){var n=e.getValue();"add"===e.type&&(n.push(Object(Ne["a"])({},e.formData)),e.resetFields()),e.$emit("change",n),e.itemDialogShow=!1}}))},deleteData:function(){},resetFields:function(){return this.formComp.resetFields()},clearValidate:function(){return this.formComp.clearValidate()}}},lt=rt,ct=Object(s["a"])(lt,it,ot,!1,null,"f2b2f064",null),st=ct.exports,ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-upload-single-picture"},[n("el-upload",e._b({staticClass:"avatar-uploader",attrs:{action:e.action,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},"el-upload",e.$attrs,!1),[e.value?n("img",{staticClass:"avatar",attrs:{src:e.value}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)},dt=[],pt={name:"FormUpload",components:{},props:{item:{type:Object,default:function(){return{}}},value:{type:String,default:""}},data:function(){return{}},computed:{action:function(){return"https://sailing.kiccer.com:7802/api/api/v1/files/uploadFiles"}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{handleAvatarSuccess:function(e,t,n){this.$emit("changeFile",e.data,t)},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传头像图片大小不能超过 2MB!"),t}}},ft=pt,mt=(n("621c"),Object(s["a"])(ft,ut,dt,!1,null,"9e575cde",null)),ht=mt.exports,bt={name:"TSimpleForm",components:{FormInput:d,FormSwitch:g,FormSelect:S,FormRadioGroup:O,FormCheckboxGroup:E,FormUploadPicture:z,FormUploadSinglePicture:H,FormRichText:oe,FormDateTimePicker:de,FormDescriptionList:ge,FormDescriptionLists:Se,FormUploadFileList:Z,FormAliMap:je,FormSelectTempleC:Ue,FormSkuC:Xe,FormSkuCC:at,FormSkuRightC:st,FormUploadSinglePictureFileC:ht},props:{formData:{type:Object,default:function(){}},fieldList:{type:Array,default:function(){return[]}},operatorList:{type:Array,default:function(){return[]}},rules:{type:Object,default:function(){}},mode:{type:String,default:"page"}},data:function(){return{}},computed:{compChildName:function(){return function(e){var t={input:"FormInput",switch:"FormSwitch",select:"FormSelect",radioGroup:"FormRadioGroup",checkboxGroup:"FormCheckboxGroup",uploadPicture:"FormUploadPicture",uploadSinglePicture:"FormUploadSinglePicture",dateTimePicker:"FormDateTimePicker",richText:"FormRichText",descriptionList:"FormDescriptionList",descriptionLists:"FormDescriptionLists",uploadFileList:"FormUploadFileList",aliMap:"FormAliMap",selectTempleC:"FormSelectTempleC",uploadSinglePictureFileC:"FormUploadSinglePictureFileC",skuC:"FormSkuC",skuCC:"FormSkuCC",skuRightC:"FormSkuRightC"}[e.type];return t}},isShow:function(){return function(e){return"boolean"===typeof e.display?e.display:"function"!==typeof e.display||e.display()}}},watch:{},created:function(){},mounted:function(){console.log(this.$refs["form"])},beforeDestroy:function(){},methods:{onChange:function(e,t){this.$set(this.formData,e,t),this.$forceUpdate()},onInput:function(e,t){this.$set(this.formData,e,t),this.$forceUpdate()},onChangeFile:function(e,t,n){this.$set(this.formData,e,t),this.$set(this.formData,"file",n.raw)},validate:function(){var e=this;return console.log("触发校验"),new Promise((function(t,n){e.$refs.form.validate((function(a){a?t({valid:a,formData:e.formData}):n({valid:a,formData:null})}))}))}}},gt=bt,yt=(n("88ae"),Object(s["a"])(gt,a,i,!1,null,"3dbbb52f",null));t["a"]=yt.exports},"88ae":function(e,t,n){"use strict";n("5608")},"8d78":function(module,__webpack_exports__,__webpack_require__){"use strict";var _config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("f190");__webpack_exports__["a"]={name:"FormRichText",components:{},props:{item:{type:Object,default:function(){return{}}},value:{type:String,default:""}},data:function(){return{refName:this.item.toRef||"quillEditor",addRange:"",editorOption:{modules:{toolbar:{container:_config__WEBPACK_IMPORTED_MODULE_0__["a"],theme:"snow"}}}}},computed:{action:function(){return"https://sailing.kiccer.com:7802/api/api/v1/files/uploadFiles"}},watch:{},created:function(){},mounted:function mounted(){var toeval="this.$refs."+this.refName+".quill",quill=eval(toeval);quill.getModule("toolbar").addHandler("image",this.imgHandler)},beforeDestroy:function(){},methods:{onEditorChange:function(e){e.editor;var t=e.html;e.text;this.$emit("change",t)},imgHandler:function imgHandler(state){var toeval="this.$refs."+this.refName+".quill",quill=eval(toeval);this.addRange=quill.getSelection(),state&&this.$refs["imgInput"].click()},handleAvatarSuccess:function handleAvatarSuccess(res,file,fileList){var url=res.data,toeval="this.$refs."+this.refName+".quill",quill=eval(toeval);this.addRange=quill.getSelection(),quill.insertEmbed(null!==this.addRange?this.addRange.index:0,"image",url)},randomString:function(e){for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=t.length,a="",i=0;i<e;++i)a+=t.charAt(Math.floor(Math.random()*n));return a}}}},"9c47":function(e,t,n){},a14e:function(e,t,n){"use strict";n("9c47")},b551:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-pagination"},[n("el-table",e._g(e._b({staticClass:"tableLimit",attrs:{data:e.tableData,border:"",stripe:""}},"el-table",Object.assign({},e.tableOpts.props),!1),Object.assign({},e.tableOpts.events)),[e._l(e.tableColumns,(function(t,a){return[n("el-table-column",e._b({key:a,attrs:{label:t.label,resizable:!1,prop:t.dataIndex,"show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(a){return[t.render?n("span",[e._v(" "+e._s(t.render(a.row))+" ")]):t.slotName?e._t(t.slotName,null,{scope:a}):n("span",[e._v(e._s(a.row[t.dataIndex]))])]}}],null,!0)},"el-table-column",Object.assign({},t.props),!1))]})),e._l(e.tableOpColumns,(function(t,a){return[n("el-table-column",e._b({key:a+10086,attrs:{label:t.label,resizable:!1,prop:t.dataIndex,"show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(a){return[n("div",{staticStyle:{display:"flex"}},e._l(t.btnGroup,(function(t,i){return n("div",{key:i,staticStyle:{"margin-left":"5px"}},[e.isShow(t,a)?n("el-button",{attrs:{type:t.type,icon:t.icon,size:"mini"},on:{click:function(e){return e.stopPropagation(),t.onClick(a)}}},[e._v(" "+e._s(t.label)+" ")]):e._e()],1)})),0)]}}],null,!0)},"el-table-column",Object.assign({},t.props),!1))]}))],2)],1)},i=[],o={name:"TTableList",components:{},props:{tableOpts:{type:Object,default:function(){return{}}},tableData:{type:Array,default:function(){return[]}},tableColumns:{type:Array,default:function(){return[]}},tableOpColumns:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{isShow:function(){return function(e,t){return"boolean"===typeof e.display?e.display:"function"!==typeof e.display||e.display(t)}}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{}},r=o,l=n("2877"),c=Object(l["a"])(r,a,i,!1,null,"160cb2ac",null);t["a"]=c.exports},bbaf:function(e,t,n){"use strict";n("ff5f")},c890:function(e,t,n){},f190:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=[["bold","italic","underline","strike"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image"]]},fbf1:function(e,t,n){},ff5f:function(e,t,n){}}]);