(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-022eeef5"],{"09f4":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),Math.easeInOutQuad=function(e,t,a,n){return e/=n/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function o(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function i(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function r(e,t,a){var r=i(),l=e-r,s=20,p=0;t="undefined"===typeof t?500:t;var c=function e(){p+=s;var i=Math.easeInOutQuad(p,r,l,t);o(i),p<t?n(e):a&&"function"===typeof a&&a()};c()}},"47c9":function(e,t,a){"use strict";var n=a("b775");function o(e){return Object(n["a"])({url:"/product/queryList",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/product/add",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/product/detail",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/product/update",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/product/delete",method:"post",data:e})}t["a"]={queryList:o,append:i,queryDetail:r,updateData:l,deleteData:s}},"862d":function(e,t,a){"use strict";(function(t,a){e.exports=a()})(0,(function(){function e(e){var n=[];return e.AMapUI&&n.push(t(e.AMapUI)),e.Loca&&n.push(a(e.Loca)),Promise.all(n)}function t(e){return new Promise((function(t,a){var l=[];if(e.plugins)for(var s=0;s<e.plugins.length;s+=1)-1==o.AMapUI.plugins.indexOf(e.plugins[s])&&l.push(e.plugins[s]);if(i.AMapUI===n.failed)a("前次请求 AMapUI 失败");else if(i.AMapUI===n.notload){i.AMapUI=n.loading,o.AMapUI.version=e.version||o.AMapUI.version,s=o.AMapUI.version;var p=document.body||document.head,c=document.createElement("script");c.type="text/javascript",c.src="https://webapi.amap.com/ui/"+s+"/main.js",c.onerror=function(e){i.AMapUI=n.failed,a("请求 AMapUI 失败")},c.onload=function(){if(i.AMapUI=n.loaded,l.length)window.AMapUI.loadUI(l,(function(){for(var e=0,a=l.length;e<a;e++){var n=l[e].split("/").slice(-1)[0];window.AMapUI[n]=arguments[e]}for(t();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()}));else for(t();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()},p.appendChild(c)}else i.AMapUI===n.loaded?e.version&&e.version!==o.AMapUI.version?a("不允许多个版本 AMapUI 混用"):l.length?window.AMapUI.loadUI(l,(function(){for(var e=0,a=l.length;e<a;e++){var n=l[e].split("/").slice(-1)[0];window.AMapUI[n]=arguments[e]}t()})):t():e.version&&e.version!==o.AMapUI.version?a("不允许多个版本 AMapUI 混用"):r.AMapUI.push((function(e){e?a(e):l.length?window.AMapUI.loadUI(l,(function(){for(var e=0,a=l.length;e<a;e++){var n=l[e].split("/").slice(-1)[0];window.AMapUI[n]=arguments[e]}t()})):t()}))}))}function a(e){return new Promise((function(t,a){if(i.Loca===n.failed)a("前次请求 Loca 失败");else if(i.Loca===n.notload){i.Loca=n.loading,o.Loca.version=e.version||o.Loca.version;var l=o.Loca.version,s=o.AMap.version.startsWith("2"),p=l.startsWith("2");if(s&&!p||!s&&p)a("JSAPI 与 Loca 版本不对应！！");else{s=o.key,p=document.body||document.head;var c=document.createElement("script");c.type="text/javascript",c.src="https://webapi.amap.com/loca?v="+l+"&key="+s,c.onerror=function(e){i.Loca=n.failed,a("请求 AMapUI 失败")},c.onload=function(){for(i.Loca=n.loaded,t();r.Loca.length;)r.Loca.splice(0,1)[0]()},p.appendChild(c)}}else i.Loca===n.loaded?e.version&&e.version!==o.Loca.version?a("不允许多个版本 Loca 混用"):t():e.version&&e.version!==o.Loca.version?a("不允许多个版本 Loca 混用"):r.Loca.push((function(e){e?a(e):a()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var n;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(n||(n={}));var o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},r={AMap:[],AMapUI:[],Loca:[]},l=[],s=function(e){"function"==typeof e&&(i.AMap===n.loaded?e(window.AMap):l.push(e))};return{load:function(t){return new Promise((function(a,r){if(i.AMap==n.failed)r("");else if(i.AMap==n.notload){var p=t.key,c=t.version,d=t.plugins;p?(window.AMap&&"lbs.amap.com"!==location.host&&r("禁止多种API加载方式混用"),o.key=p,o.AMap.version=c||o.AMap.version,o.AMap.plugins=d||o.AMap.plugins,i.AMap=n.loading,c=document.body||document.head,window.___onAPILoaded=function(o){if(delete window.___onAPILoaded,o)i.AMap=n.failed,r(o);else for(i.AMap=n.loaded,e(t).then((function(){a(window.AMap)}))["catch"](r);l.length;)l.splice(0,1)[0]()},d=document.createElement("script"),d.type="text/javascript",d.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+o.AMap.version+"&key="+p+"&plugin="+o.AMap.plugins.join(","),d.onerror=function(e){i.AMap=n.failed,r(e)},c.appendChild(d)):r("请填写key")}else if(i.AMap==n.loaded)if(t.key&&t.key!==o.key)r("多个不一致的 key");else if(t.version&&t.version!==o.AMap.version)r("不允许多个版本 JSAPI 混用");else{if(p=[],t.plugins)for(c=0;c<t.plugins.length;c+=1)-1==o.AMap.plugins.indexOf(t.plugins[c])&&p.push(t.plugins[c]);p.length?window.AMap.plugin(p,(function(){e(t).then((function(){a(window.AMap)}))["catch"](r)})):e(t).then((function(){a(window.AMap)}))["catch"](r)}else if(t.key&&t.key!==o.key)r("多个不一致的 key");else if(t.version&&t.version!==o.AMap.version)r("不允许多个版本 JSAPI 混用");else{var u=[];if(t.plugins)for(c=0;c<t.plugins.length;c+=1)-1==o.AMap.plugins.indexOf(t.plugins[c])&&u.push(t.plugins[c]);s((function(){u.length?window.AMap.plugin(u,(function(){e(t).then((function(){a(window.AMap)}))["catch"](r)})):e(t).then((function(){a(window.AMap)}))["catch"](r)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},r={AMap:[],AMapUI:[],Loca:[]}}}}))},e6e2:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticStyle:{margin:"20px"}},[a("t-simple-form",{ref:"form",attrs:{"form-data":e.formData,"field-list":e.fieldList,"operator-list":e.operatorList,mode:"list"}}),a("t-table-list",{attrs:{"table-data":e.tableData,"table-columns":e.tableColumns,"table-op-columns":e.tableOpColumns},scopedSlots:e._u([{key:"url",fn:function(e){return[a("el-image",{staticStyle:{width:"100px",height:"60px"},attrs:{fit:"fit",src:e.scope.row.url}})]}}])}),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.queryProductList}})],1)],1)},o=[],i=a("5530"),r=a("86a6"),l=a("b551"),s=a("333d"),p=a("47c9"),c={name:"ProductManager",components:{TSimpleForm:r["a"],TTableList:l["a"],Pagination:s["a"]},props:{},data:function(){var e=this;return{formData:{},fieldList:[{type:"input",label:"商品名称",key:"name",props:{clearable:!0},events:{},display:!0}],operatorList:[{type:"primary",icon:"el-icon-refresh",label:"重 置",func:this.resetFields},{type:"primary",icon:"el-icon-circle-plus-outline",label:"添 加",func:function(){e.$router.push("/Product/add")}},{type:"primary",icon:"el-icon-search",label:"查 询",func:this.submitForm}],tableData:[],tableColumns:[{label:"编号",dataIndex:"id",props:{}},{label:"商品名称",dataIndex:"name",props:{}},{label:"商品分类",dataIndex:"category_name",props:{}},{label:"价格",dataIndex:"price",props:{}},{label:"单位",dataIndex:"unit_name",props:{}},{label:"状态",dataIndex:"status",props:{},render:function(e){var t={true:"开启",false:"关闭"}[e.status];return t||"不明状态"}},{label:"创建时间",dataIndex:"create_time",props:{}}],tableOpColumns:[{label:"操作列",dataIndex:"a1",props:{width:"200",fixed:"right"},btnGroup:[{label:"编辑",type:"primary",icon:"el-icon-edit",onClick:function(t){t.index;var a=t.row;e.$router.push({path:"/Product/edit",query:{id:a.id}}),console.log(a.id)}},{type:"danger",icon:"el-icon-delete",label:"删除",onClick:function(t){t.index;var a=t.row;e.deleteProduct(a)}}]}],total:0,listQuery:{page:0,pageSize:10}}},computed:{},watch:{},created:function(){},mounted:function(){this.queryProductList()},beforeDestroy:function(){},methods:{submitForm:function(){var e=this;this.$refs["form"].$refs["form"].validate((function(t){t&&(console.log("最终数据",e.formData),e.queryProductList())}))},resetFields:function(){return this.$refs["form"].$refs["form"].resetFields()},clearValidate:function(){return this.$refs["form"].$refs["form"].clearValidate()},queryProductList:function(){var e=this;p["a"].queryList(Object(i["a"])(Object(i["a"])({},this.listQuery),this.formData)).then((function(t){e.tableData=t.data.data.list,e.total=t.data.data.total}))},deleteProduct:function(e){var t=this;p["a"].deleteData({id:e.id,categoryId:e.categoryId}).then((function(e){200===e.status&&t.queryProductList()}))}}},d=c,u=a("2877"),f=Object(u["a"])(d,n,o,!1,null,"424d3552",null);t["default"]=f.exports}}]);