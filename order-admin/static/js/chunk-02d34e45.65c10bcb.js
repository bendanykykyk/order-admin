(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02d34e45"],{"47c9":function(t,e,a){"use strict";var n=a("b775");function o(t){return Object(n["a"])({url:"/product/queryList",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/product/add",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/product/detail",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/product/update",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/product/delete",method:"post",data:t})}e["a"]={queryList:o,append:i,queryDetail:r,updateData:u,deleteData:s}},"4ed8":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticStyle:{margin:"20px"}},[a("t-simple-form",{ref:"form",attrs:{"form-data":t.formData,"field-list":t.fieldList,"operator-list":t.operatorList,rules:t.rules}})],1)],1)},o=[],i=(a("caad"),a("2532"),a("d81d"),a("86a6")),r=a("47c9"),u=a("b050"),s=a("d9cb"),p={name:"FormCu",components:{TSimpleForm:i["a"]},props:{},data:function(){var t=this;return{ajaxCategoryList:[],ajaxUnitList:[],formData:{status:!0},fieldList:[{type:"input",key:"name",label:"商品名称",props:{clearable:!0}},{type:"select",key:"categoryId",label:"商品分类",props:{clearable:!0},typeData:function(){return t.ajaxCategoryList},disabled:function(){return t.$route.query.id}},{type:"input",key:"price",label:"价格",props:{}},{type:"select",key:"unitId",label:"单位",props:{},typeData:function(){return t.ajaxUnitList}},{type:"uploadSinglePicture",key:"image",label:"商品图片",props:{}},{type:"switch",key:"status",label:"上架状态",props:{}}],operatorList:[{type:"",label:"返 回",func:function(){t.$router.push({name:"productList"})}},{type:"primary",label:"提 交",func:this.submitForm}],rules:{}}},computed:{formComp:function(){return this.$refs["form"].$refs["form"]}},watch:{},created:function(){this.queryCategoryList(),this.queryUnitList()},mounted:function(){this.$route.path.includes("edit")&&this.queryProductDetail()},beforeDestroy:function(){},methods:{queryCategoryList:function(){var t=this;u["a"].queryList({page:1}).then((function(e){t.ajaxCategoryList=e.data.data.list.map((function(t){return{value:t.id,label:t.c_name}}))}))},queryUnitList:function(){var t=this;s["a"].queryList({page:1}).then((function(e){t.ajaxUnitList=e.data.data.list.map((function(t){return{value:t.id,label:t.unit_name}}))}))},queryProductDetail:function(){var t=this;r["a"].queryDetail({id:this.$route.query.id}).then((function(e){t.formData=e.data.data[0]}))},submitForm:function(){var t=this;this.formComp.validate((function(e){e&&(t.$route.path.includes("edit")?t.updateProduct():t.addProduct())}))},addProduct:function(){var t=this;r["a"].append(this.formData).then((function(e){200===e.status&&t.$router.push({name:"productList"})}))},updateProduct:function(){var t=this;r["a"].updateData(this.formData).then((function(e){200===e.status&&t.$router.push({name:"productList"})}))},resetFields:function(){return this.formComp.resetFields()},clearValidate:function(){return this.formComp.clearValidate()}}},d=p,c=a("2877"),l=Object(c["a"])(d,n,o,!1,null,"5f636f55",null);e["default"]=l.exports},"862d":function(t,e,a){"use strict";(function(e,a){t.exports=a()})(0,(function(){function t(t){var n=[];return t.AMapUI&&n.push(e(t.AMapUI)),t.Loca&&n.push(a(t.Loca)),Promise.all(n)}function e(t){return new Promise((function(e,a){var u=[];if(t.plugins)for(var s=0;s<t.plugins.length;s+=1)-1==o.AMapUI.plugins.indexOf(t.plugins[s])&&u.push(t.plugins[s]);if(i.AMapUI===n.failed)a("前次请求 AMapUI 失败");else if(i.AMapUI===n.notload){i.AMapUI=n.loading,o.AMapUI.version=t.version||o.AMapUI.version,s=o.AMapUI.version;var p=document.body||document.head,d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/ui/"+s+"/main.js",d.onerror=function(t){i.AMapUI=n.failed,a("请求 AMapUI 失败")},d.onload=function(){if(i.AMapUI=n.loaded,u.length)window.AMapUI.loadUI(u,(function(){for(var t=0,a=u.length;t<a;t++){var n=u[t].split("/").slice(-1)[0];window.AMapUI[n]=arguments[t]}for(e();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()}));else for(e();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()},p.appendChild(d)}else i.AMapUI===n.loaded?t.version&&t.version!==o.AMapUI.version?a("不允许多个版本 AMapUI 混用"):u.length?window.AMapUI.loadUI(u,(function(){for(var t=0,a=u.length;t<a;t++){var n=u[t].split("/").slice(-1)[0];window.AMapUI[n]=arguments[t]}e()})):e():t.version&&t.version!==o.AMapUI.version?a("不允许多个版本 AMapUI 混用"):r.AMapUI.push((function(t){t?a(t):u.length?window.AMapUI.loadUI(u,(function(){for(var t=0,a=u.length;t<a;t++){var n=u[t].split("/").slice(-1)[0];window.AMapUI[n]=arguments[t]}e()})):e()}))}))}function a(t){return new Promise((function(e,a){if(i.Loca===n.failed)a("前次请求 Loca 失败");else if(i.Loca===n.notload){i.Loca=n.loading,o.Loca.version=t.version||o.Loca.version;var u=o.Loca.version,s=o.AMap.version.startsWith("2"),p=u.startsWith("2");if(s&&!p||!s&&p)a("JSAPI 与 Loca 版本不对应！！");else{s=o.key,p=document.body||document.head;var d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/loca?v="+u+"&key="+s,d.onerror=function(t){i.Loca=n.failed,a("请求 AMapUI 失败")},d.onload=function(){for(i.Loca=n.loaded,e();r.Loca.length;)r.Loca.splice(0,1)[0]()},p.appendChild(d)}}else i.Loca===n.loaded?t.version&&t.version!==o.Loca.version?a("不允许多个版本 Loca 混用"):e():t.version&&t.version!==o.Loca.version?a("不允许多个版本 Loca 混用"):r.Loca.push((function(t){t?a(t):a()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var n;(function(t){t.notload="notload",t.loading="loading",t.loaded="loaded",t.failed="failed"})(n||(n={}));var o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},r={AMap:[],AMapUI:[],Loca:[]},u=[],s=function(t){"function"==typeof t&&(i.AMap===n.loaded?t(window.AMap):u.push(t))};return{load:function(e){return new Promise((function(a,r){if(i.AMap==n.failed)r("");else if(i.AMap==n.notload){var p=e.key,d=e.version,c=e.plugins;p?(window.AMap&&"lbs.amap.com"!==location.host&&r("禁止多种API加载方式混用"),o.key=p,o.AMap.version=d||o.AMap.version,o.AMap.plugins=c||o.AMap.plugins,i.AMap=n.loading,d=document.body||document.head,window.___onAPILoaded=function(o){if(delete window.___onAPILoaded,o)i.AMap=n.failed,r(o);else for(i.AMap=n.loaded,t(e).then((function(){a(window.AMap)}))["catch"](r);u.length;)u.splice(0,1)[0]()},c=document.createElement("script"),c.type="text/javascript",c.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+o.AMap.version+"&key="+p+"&plugin="+o.AMap.plugins.join(","),c.onerror=function(t){i.AMap=n.failed,r(t)},d.appendChild(c)):r("请填写key")}else if(i.AMap==n.loaded)if(e.key&&e.key!==o.key)r("多个不一致的 key");else if(e.version&&e.version!==o.AMap.version)r("不允许多个版本 JSAPI 混用");else{if(p=[],e.plugins)for(d=0;d<e.plugins.length;d+=1)-1==o.AMap.plugins.indexOf(e.plugins[d])&&p.push(e.plugins[d]);p.length?window.AMap.plugin(p,(function(){t(e).then((function(){a(window.AMap)}))["catch"](r)})):t(e).then((function(){a(window.AMap)}))["catch"](r)}else if(e.key&&e.key!==o.key)r("多个不一致的 key");else if(e.version&&e.version!==o.AMap.version)r("不允许多个版本 JSAPI 混用");else{var l=[];if(e.plugins)for(d=0;d<e.plugins.length;d+=1)-1==o.AMap.plugins.indexOf(e.plugins[d])&&l.push(e.plugins[d]);s((function(){l.length?window.AMap.plugin(l,(function(){t(e).then((function(){a(window.AMap)}))["catch"](r)})):t(e).then((function(){a(window.AMap)}))["catch"](r)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},r={AMap:[],AMapUI:[],Loca:[]}}}}))},b050:function(t,e,a){"use strict";var n=a("b775");function o(t){return Object(n["a"])({url:"/category/queryList",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/category/add",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/category/detail",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/category/update",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/category/delete",method:"post",data:t})}e["a"]={queryList:o,append:i,queryDetail:r,updateData:u,deleteData:s}},d9cb:function(t,e,a){"use strict";var n=a("b775");function o(t){return Object(n["a"])({url:"/unit/queryList",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/unit/add",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/unit/detail",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/unit/update",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/unit/delete",method:"post",data:t})}e["a"]={queryList:o,append:i,queryDetail:r,updateData:u,deleteData:s}}}]);